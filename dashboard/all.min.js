const tokenDecimals=18,DAY_IN_SECONDS=84600,abi='[{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RewardWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Staked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Unstaked","type":"event"},{"constant":true,"inputs":[],"name":"ONE_WEEK","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"addRewardTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"getStakingRewards","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"getWeeklyReward","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"paidRewardsOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"rewardsOnPoolOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"stake","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"stakesOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"stakingRewardAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalStaked","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"unstake","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]',contract_address="0xd8c82FbC4D8Ed0644a7eC04cF973e84c6153c1d7";let farmToken,farmTokenContract,token,web3,abi_farm_token=abi_farm_token_array[0],contract_address_farm_token=contract_address_farm_token_array[0],abi_farm_contract=abi_farm_contract_array[0],contract_address_farm_contract=contract_address_farm_contract_array[0];function copy(){var e=jQuery("#address");jQuery("#copy")[0].innerHTML="COPIED",e.select(),document.execCommand("copy")}!function(e){"use strict";jQuery(window).on("load",(function(){jQuery(".preloaderimg").fadeOut(),jQuery(".preloader").delay(200).fadeOut("slow").delay(200,(function(){jQuery(this).remove()}))})),jQuery(".navbar-nav li a").on("click",(function(e){jQuery(".navbar-collapse").removeClass("show"),jQuery(".navbar-toggler").addClass("collapsed")}))}(jQuery);let connectFunc=()=>{console.log("Connect mock")};function mul(e){return BigNumber(e).multipliedBy(Math.pow(10,18)).toFixed()}function updateFarmingContract(){web3=new Web3(window.ethereum),token=new web3.eth.Contract(JSON.parse(abi),contract_address),farmToken=new web3.eth.Contract(JSON.parse(abi_farm_token),contract_address_farm_token),farmTokenContract=new web3.eth.Contract(JSON.parse(abi_farm_contract),contract_address_farm_contract)}window.onload=function(){const e='<div class="spinner-grow" role="status"><span class="sr-only">Loading...</span></div>';let t,n;const a=jQuery("#wallet_addr")[0],r=jQuery("#contract_addr")[0],o=jQuery("#total_supply")[0],i=jQuery("#total_stacked")[0],s=jQuery("#total_rewards")[0],u=jQuery("#my_rewards")[0],l=jQuery("#my_tokens")[0],c=jQuery("#my_stakes")[0],d=jQuery("#stake_amount")[0],p=jQuery("#unstake_amount")[0],y=jQuery("#approve_amount")[0],m=jQuery("#farm_amount")[0],f=jQuery("#unfarm_amount")[0],b=jQuery("#stake"),w=jQuery("#unstake"),T=jQuery("#withdraw"),h=jQuery("#withdraw_weekly"),k=jQuery("#total_farmed")[0],_=jQuery("#my_farmed")[0],v=jQuery("#my_farmed_rewards")[0],C=jQuery("#farming_duration")[0],g=jQuery("#period_finish")[0],x=jQuery("#reward_per_token")[0],B=jQuery("#reward_rate")[0],M=jQuery("#approve"),j=jQuery("#farm"),L=jQuery("#unfarm"),Q=jQuery("#farm_rewards");r.innerText=contract_address;if(window.web3){function O(e){jQuery(".account_info").removeAttr("hidden"),a.innerText=e,async function(e){return await token.methods.rewardsOnPoolOf(e).call()}(e).then(e=>{u.innerText=BigNumber(e).dividedBy(Math.pow(10,18)).toFixed()},e=>{}),async function(e){return await token.methods.stakesOf(e).call()}(e).then(e=>{c.innerText=BigNumber(e).dividedBy(Math.pow(10,18)).toFixed()},e=>{}),async function(e){return await token.methods.balanceOf(e).call()}(e).then(e=>{l.innerText=BigNumber(e).dividedBy(Math.pow(10,18)).toFixed()},e=>{}),async function(){return await farmTokenContract.methods.totalSupply().call()}().then(e=>{k.innerText=BigNumber(e).dividedBy(Math.pow(10,18)).toFixed()}),async function(e){return await farmTokenContract.methods.balanceOf(e).call()}(e).then(e=>{_.innerText=BigNumber(e).dividedBy(Math.pow(10,18)).toFixed()},e=>{}),async function(e){return await farmToken.methods.balanceOf(e).call()}(e).then(e=>{B.innerText=BigNumber(e).dividedBy(Math.pow(10,18)).toFixed()},e=>{}),async function(e){return await farmTokenContract.methods.earned(e).call()}(e).then(e=>{v.innerText=BigNumber(e).dividedBy(Math.pow(10,18)).toFixed()},e=>{}),async function(){return await farmTokenContract.methods.farmingDuration().call()}().then(e=>{C.innerText=BigNumber(e).dividedBy(84600).toFixed(0)+" days"},e=>{}),async function(){return await farmTokenContract.methods.periodFinish().call()}().then(e=>{let t=new Date(1e3*e);g.innerText=t.toDateString()},e=>{}),async function(){return await farmTokenContract.methods.rewardPerToken().call()}().then(e=>{x.innerText=BigNumber(e).dividedBy(Math.pow(10,18)).toFixed()},e=>{})}function N(){jQuery(".connect").attr("hidden",!0),jQuery(".account_info").removeAttr("hidden"),b.on("click",()=>{if(Number(d.value)>0){b.prop("disabled",!0);const a=b[0].innerText;b[0].innerHTML=e,async function(e,a){return 0!==e&&n?await token.methods.stake(mul(e)).send({from:n},(e,n)=>{e||(t=n,F()),a()}):null}(d.value,()=>{b[0].innerHTML=a,b.prop("disabled",!1),d.value=""}).then(e=>console.log(e),e=>E())}}),w.on("click",()=>{var a;Number(p.value)>0&&(a=()=>{w.prop("disabled",!0);const a=w[0].innerText;w[0].innerHTML=e,async function(e,a){return 0!==e&&n?await token.methods.unstake(mul(e)).send({from:n},(e,n)=>{e||(t=n,F()),a()}):null}(p.value,()=>{w[0].innerHTML=a,w.prop("disabled",!1),p.value=""}).then(e=>console.log(e),e=>E())},Swal.fire({title:"<strong>Attention</strong>",icon:"warning",html:"Please be sure! After calling unstake all your staked funds will be burnt!",showCloseButton:!1,showConfirmButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"CONFIRM",confirmButtonAriaLabel:"CONFIRM",cancelButtonText:"CANCEL",cancelButtonAriaLabel:"CANCEL"}).then(e=>{e.isConfirmed&&a()}))}),T.on("click",()=>{T.prop("disabled",!0);const a=T[0].innerText;T[0].innerHTML=e,async function(e){return n?await token.methods.getStakingRewards().send({from:n},(n,a)=>{n||(t=a,F()),e()}):null}(()=>{T[0].innerHTML=a,T.prop("disabled",!1)}).then(e=>console.log(e),e=>E())}),h.on("click",()=>{h.prop("disabled",!0);const a=h[0].innerText;h[0].innerHTML=e,async function(e){return n?await token.methods.getWeeklyReward().send({from:n},(n,a)=>{n||(t=a,F()),e()}):null}(()=>{h[0].innerHTML=a,h.prop("disabled",!1)}).then(e=>console.log(e),e=>{4001===e.code?E():Swal.fire({title:"<strong>Error</strong>",icon:"error",html:"You have already withdrawn reward for this week.  Please try to withdraw next week again.",showCloseButton:!0,showConfirmButton:!1,showCancelButton:!1,focusConfirm:!1,confirmButtonText:"OK",confirmButtonAriaLabel:"COPY",cancelButtonText:"CLOSE",cancelButtonAriaLabel:"CLOSE"})})}),Q.on("click",()=>{Q.prop("disabled",!0);const a=Q[0].innerText;Q[0].innerHTML=e,async function(e){return n?await farmTokenContract.methods.claimReward().send({from:n},(n,a)=>{n||(t=a,F()),e()}):null}(()=>{Q[0].innerHTML=a,Q.prop("disabled",!1)}).then(e=>console.log(e),e=>E())}),M.on("click",()=>{if(Number(y.value)>0){M.prop("disabled",!0);const a=M[0].innerText;M[0].innerHTML=e,async function(e,a){return 0!==e&&n?await farmToken.methods.approve(farmTokenContract._address,mul(e)).send({from:n},(e,n)=>{e||(t=n,F(),a()),a()}):null}(y.value,()=>{M[0].innerHTML=a,M.prop("disabled",!1),y.value=""}).then(e=>console.log(e),e=>E())}}),j.on("click",()=>{if(Number(m.value)>0){j.prop("disabled",!0);const a=j[0].innerText;j[0].innerHTML=e,async function(e,a){if(0!==e&&n)return await farmTokenContract.methods.farm(mul(e)).send({from:n},(e,n)=>{e||(t=n,F()),a()})}(m.value,()=>{j[0].innerHTML=a,j.prop("disabled",!1),m.value=""}).then(e=>console.log(e),e=>E())}}),L.on("click",()=>{if(Number(f.value)>0){L.prop("disabled",!0);const a=L[0].innerText;L[0].innerHTML=e,async function(e,a){return 0!==e&&n?await farmTokenContract.methods.withdraw(mul(e)).send({from:n},(e,n)=>{e||(t=n,F()),a()}):null}(f.value,()=>{L[0].innerHTML=a,L.prop("disabled",!1),f.value=""}).then(e=>console.log(e),e=>E())}})}updateFarmingContract(),async function(){return await token.methods.totalSupply().call()}().then(e=>{o.innerText=BigNumber(e).dividedBy(Math.pow(10,18)).toFixed()}),async function(){return await token.methods.totalStaked().call()}().then(e=>{i.innerText=BigNumber(e).dividedBy(Math.pow(10,18)).toFixed()}),async function(){return await token.methods.stakingRewardAmount().call()}().then(e=>{s.innerText=BigNumber(e).dividedBy(Math.pow(10,18)).toFixed()}),connectFunc=()=>{if(n)N(),O(n);else{jQuery(".connect").removeAttr("hidden"),jQuery(".account_info").attr("hidden",!0);let e=()=>{(window.ethereum.isTrust?window.ethereum.enable():web3.eth.requestAccounts()).then(e=>{n=e[0],N(),O(n)},e=>{console.log("err",e)})};b.on("click",()=>{A(e)}),w.on("click",()=>{A(e)}),T.on("click",()=>{A(e)}),h.on("click",()=>{A(e)}),A(e)}},setTimeout(()=>{n=web3.eth.accounts.currentProvider.selectedAddress,connectFunc()},500)}else b.on("click",()=>{S()}),w.on("click",()=>{S()}),T.on("click",()=>{S()}),h.on("click",()=>{S()}),S();function S(){Swal.fire({title:"<strong>Connect TrustWallet</strong>",icon:"error",html:"Please install TrustWallet. Reload this page after installation.",showCloseButton:!0,showConfirmButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"CONNECT",confirmButtonAriaLabel:"INSTALL",cancelButtonText:"NO, THX",cancelButtonAriaLabel:"NO"}).then(e=>{e.isConfirmed&&window.open("https://link.trustwallet.com/open_url?coin_id=60&url=https://rizencoin.com","_blank").focus()})}function A(e){n||Swal.fire({title:"<strong>CONNECT</strong>",icon:"info",html:"Please connect",showCloseButton:!0,showConfirmButton:!0,showCancelButton:!1,focusConfirm:!1,confirmButtonText:"CONNECT",confirmButtonAriaLabel:"COPY",cancelButtonText:"CLOSE",cancelButtonAriaLabel:"CLOSE"}).then(t=>{t.isConfirmed&&e()})}function F(e){Swal.fire({title:"<strong>Address of transaction</strong>",icon:"success",html:'<input style="text-align:center;font-size: 10px;width: 95%;border: 0;box-shadow: 0 0 0;" id="address" value="'+t+'" readonly></input> <br> <button style="border-radius: 5px; margin-top: 10px;" onclick="copy()" id="copy"> <img src="img/copy.png" style="margin-right: 5px;"> COPY</button>',showCloseButton:!0,showConfirmButton:!1,showCancelButton:!1,focusConfirm:!1,confirmButtonText:"OK",confirmButtonAriaLabel:"COPY",cancelButtonText:"CLOSE",cancelButtonAriaLabel:"CLOSE"})}function E(){Swal.fire({title:"<strong>Error</strong>",icon:"error",html:"Something bad is happened or you just rejected transaction",showCloseButton:!0,showConfirmButton:!1,showCancelButton:!1,focusConfirm:!1,confirmButtonText:"OK",confirmButtonAriaLabel:"COPY",cancelButtonText:"CLOSE",cancelButtonAriaLabel:"CLOSE"})}$(".tabs").change(e=>{const t=e.target.value;abi_farm_token=abi_farm_token_array[t],contract_address_farm_token=contract_address_farm_token_array[t],abi_farm_contract=abi_farm_contract_array[t],contract_address_farm_contract=contract_address_farm_contract_array[t],updateFarmingContract(),connectFunc()})};